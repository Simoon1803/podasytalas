{% extends "base/base_admin.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/forms.css' %}">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<div class="form-container shadow">
  <div class="text-center mb-4">
    <img src="{% static 'img/logo.png' %}" width="100" class="mb-3">
    <h2 class="fw-bold text-primary">
      <i class="bi bi-image"></i> {{ title }}
    </h2>
  </div>

  <form id="galleryForm" method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="mb-3">
      <label class="form-label fw-semibold">Título</label>
      {{ form.title }}
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">Descripción (opcional)</label>
      {{ form.description }}
    </div>

    <div class="mb-3">
      <label class="form-label fw-semibold">Imagen</label>
      {{ form.image }}
    </div>

    <div class="d-flex justify-content-between mt-4">
      <a href="{% url 'dashboard:gallery_list' %}" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Volver
      </a>
      <button type="submit" class="btn btn-success">
        <i class="bi bi-check2-square"></i> Guardar
      </button>
    </div>
  </form>
</div>

<script>
document.getElementById("galleryForm").addEventListener("submit", function(e){
  Swal.fire({
    icon: "info",
    title: "Subiendo imagen...",
    showConfirmButton: false,
    timer: 1500
  });
});
</script>
{% endblock %}
